{"version":3,"sources":["uni-app:///main.js","webpack:///D:/JavaWeb/HBuilderX/HBuilderProjects/yunyo_uniapp/pages/attraction/detail.vue?5b9b","webpack:///D:/JavaWeb/HBuilderX/HBuilderProjects/yunyo_uniapp/pages/attraction/detail.vue?547e","webpack:///D:/JavaWeb/HBuilderX/HBuilderProjects/yunyo_uniapp/pages/attraction/detail.vue?bca9","webpack:///D:/JavaWeb/HBuilderX/HBuilderProjects/yunyo_uniapp/pages/attraction/detail.vue?be75","uni-app:///pages/attraction/detail.vue","webpack:///D:/JavaWeb/HBuilderX/HBuilderProjects/yunyo_uniapp/pages/attraction/detail.vue?ed76","webpack:///D:/JavaWeb/HBuilderX/HBuilderProjects/yunyo_uniapp/pages/attraction/detail.vue?a099"],"names":["createPage","Page"],"mappings":"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","file":"pages/attraction/detail.js","sourcesContent":["import 'uni-pages';\nimport Vue from 'vue'\nimport Page from './pages/attraction/detail.vue'\ncreatePage(Page)","import { render, staticRenderFns, recyclableRender, components } from \"./detail.vue?vue&type=template&id=27d86f60&\"\nvar renderjs\nimport script from \"./detail.vue?vue&type=script&lang=js&\"\nexport * from \"./detail.vue?vue&type=script&lang=js&\"\nimport style0 from \"./detail.vue?vue&type=style&index=0&lang=scss&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null,\n  false,\n  components,\n  renderjs\n)\n\ncomponent.options.__file = \"pages/attraction/detail.vue\"\nexport default component.exports","export * from \"-!../../../../plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!../../../../plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--16-0!../../../../plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/template.js!../../../../plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-uni-app-loader/page-meta.js!../../../../plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./detail.vue?vue&type=template&id=27d86f60&\"","var components = {\n  uTopTips: function() {\n    return import(\n      /* webpackChunkName: \"node-modules/uview-ui/components/u-top-tips/u-top-tips\" */ \"uview-ui/components/u-top-tips/u-top-tips.vue\"\n    )\n  },\n  uPopup: function() {\n    return import(\n      /* webpackChunkName: \"node-modules/uview-ui/components/u-popup/u-popup\" */ \"uview-ui/components/u-popup/u-popup.vue\"\n    )\n  },\n  uCalendar: function() {\n    return import(\n      /* webpackChunkName: \"node-modules/uview-ui/components/u-calendar/u-calendar\" */ \"uview-ui/components/u-calendar/u-calendar.vue\"\n    )\n  },\n  uNumberBox: function() {\n    return import(\n      /* webpackChunkName: \"node-modules/uview-ui/components/u-number-box/u-number-box\" */ \"uview-ui/components/u-number-box/u-number-box.vue\"\n    )\n  },\n  uRadioGroup: function() {\n    return import(\n      /* webpackChunkName: \"node-modules/uview-ui/components/u-radio-group/u-radio-group\" */ \"uview-ui/components/u-radio-group/u-radio-group.vue\"\n    )\n  },\n  uRadio: function() {\n    return import(\n      /* webpackChunkName: \"node-modules/uview-ui/components/u-radio/u-radio\" */ \"uview-ui/components/u-radio/u-radio.vue\"\n    )\n  },\n  uButton: function() {\n    return import(\n      /* webpackChunkName: \"node-modules/uview-ui/components/u-button/u-button\" */ \"uview-ui/components/u-button/u-button.vue\"\n    )\n  },\n  uSelect: function() {\n    return import(\n      /* webpackChunkName: \"node-modules/uview-ui/components/u-select/u-select\" */ \"uview-ui/components/u-select/u-select.vue\"\n    )\n  },\n  uniEasyinput: function() {\n    return import(\n      /* webpackChunkName: \"node-modules/@dcloudio/uni-ui/lib/uni-easyinput/uni-easyinput\" */ \"@dcloudio/uni-ui/lib/uni-easyinput/uni-easyinput.vue\"\n    )\n  }\n}\nvar render = function() {\n  var _vm = this\n  var _h = _vm.$createElement\n  var _c = _vm._self._c || _h\n  if (!_vm._isMounted) {\n    _vm.e0 = function($event) {\n      _vm.show2 = true\n    }\n\n    _vm.e1 = function($event) {\n      _vm.show4 = true\n    }\n\n    _vm.e2 = function($event) {\n      _vm.show4 = false\n    }\n  }\n}\nvar recyclableRender = false\nvar staticRenderFns = []\nrender._withStripped = true\n\nexport { render, staticRenderFns, recyclableRender, components }","import mod from \"-!../../../../plugins/uniapp-cli/node_modules/babel-loader/lib/index.js!../../../../plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--12-1!../../../../plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!../../../../plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./detail.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../plugins/uniapp-cli/node_modules/babel-loader/lib/index.js!../../../../plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--12-1!../../../../plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!../../../../plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./detail.vue?vue&type=script&lang=js&\"","<template>\r\n\t<view>\r\n\t\t<u-top-tips ref=\"uTips\"></u-top-tips>\r\n\t\t<!-- 基本信息 -->\r\n\t\t<view class=\"goods\">\r\n\t\t\t<!-- 商品主图 -->\r\n\t\t\t<view class=\"preview\">\r\n\t\t\t\t<swiper style=\"height: 100%;\" @change=\"swiperChange\">\r\n\t\t\t\t\t<swiper-item><image mode=\"aspectFill\" src=\"https://yanxuan-item.nosdn.127.net/99c83709ca5f9fd5c5bb35d207ad7822.png\" /></swiper-item>\r\n\t\t\t\t\t<swiper-item><image mode=\"aspectFill\" src=\"https://yanxuan-item.nosdn.127.net/f9107d47c08f0b99c097e30055c39e1a.png\" /></swiper-item>\r\n\t\t\t\t\t<swiper-item><image mode=\"aspectFill\" src=\"https://yanxuan-item.nosdn.127.net/754c56785cc8c39f7414752f62d79872.png\" /></swiper-item>\r\n\t\t\t\t\t<swiper-item><image mode=\"aspectFill\" src=\"https://yanxuan-item.nosdn.127.net/ef16f8127610ef56a2a10466d6dae157.jpg\" /></swiper-item>\r\n\t\t\t\t\t<swiper-item><image mode=\"aspectFill\" src=\"https://yanxuan-item.nosdn.127.net/1f0c3f5d32b0e804deb9b3d56ea6c3b2.png\" /></swiper-item>\r\n\t\t\t\t</swiper>\r\n\t\t\t\t<view class=\"indicator\">\r\n\t\t\t\t\t<text class=\"current\">{{ currentIndex + 1 }}</text>\r\n\t\t\t\t\t<text class=\"split\">/</text>\r\n\t\t\t\t\t<text class=\"total\">5</text>\r\n\t\t\t\t</view>\r\n\t\t\t</view>\r\n\r\n\t\t\t<!-- 商品简介 -->\r\n\t\t\t<view class=\"meta\">\r\n\t\t\t\t<view class=\"price\">\r\n\t\t\t\t\t<text style=\"font-size: 25px;\">{{ attractionInfo.name }}</text>\r\n\t\t\t\t</view>\r\n\t\t\t</view>\r\n\r\n\t\t\t<!-- 操作面板 -->\r\n\t\t\t<view class=\"action\">\r\n\t\t\t\t<view class=\"item arrow\">\r\n\t\t\t\t\t<text class=\"label\">景区热线：</text>\r\n\t\t\t\t\t<text>{{ attractionInfo.telephone }}</text>\r\n\t\t\t\t</view>\r\n\t\t\t\t<view class=\"item arrow\">\r\n\t\t\t\t\t<text class=\"label\">营业时间：</text>\r\n\t\t\t\t\t<text>{{ attractionInfo.openingHours }} - {{ attractionInfo.closingHours }}, {{ attractionInfo.stopEntry }}停止入场</text>\r\n\t\t\t\t</view>\r\n\t\t\t\t<view class=\"item arrow\">\r\n\t\t\t\t\t<text class=\"label\">景区地址：</text>\r\n\t\t\t\t\t<text>{{ attractionInfo.address }}</text>\r\n\t\t\t\t</view>\r\n\t\t\t\t<view class=\"item arrow\">\r\n\t\t\t\t\t<text class=\"label\">优惠政策：</text>\r\n\t\t\t\t\t<text>{{ attractionInfo.policy }}</text>\r\n\t\t\t\t</view>\r\n\t\t\t\t<view class=\"item arrow\">\r\n\t\t\t\t\t<text class=\"label\">景区设施：</text>\r\n\t\t\t\t\t<text>{{ attractionInfo.facilities }}</text>\r\n\t\t\t\t</view>\r\n\t\t\t\t<view class=\"item arrow\">\r\n\t\t\t\t\t<text class=\"label\">景区介绍：</text>\r\n\t\t\t\t\t<text>{{ attractionInfo.detail }}</text>\r\n\t\t\t\t</view>\r\n\t\t\t</view>\r\n\r\n\t\t\t<!-- 门票列表 -->\r\n\t\t\t<view class=\"list\">\r\n\t\t\t\t<text hover-class=\"none\" class=\"item arrow\">门票</text>\r\n\t\t\t\t<!-- :url=\"'./order?id=' + item.id + '&name=' + attractionInfo.name + item.name\" -->\r\n\t\t\t\t<view hover-class=\"none\" class=\"item arrow\" v-for=\"item in ticketList\" :key=\"item\">\r\n\t\t\t\t\t{{ item.name }}\r\n\t\t\t\t\t<text class=\"num\">已售129</text>\r\n\t\t\t\t\t<text class=\"price\">{{ item.price }}</text>\r\n\t\t\t\t\t<!-- <button size=\"mini\" @click=\"addOrder(item.name, item.price)\">预定</button> -->\r\n\t\t\t\t\t<button size=\"mini\" @click=\"addOrder(item.name, item.price)\">预定</button>\r\n\t\t\t\t</view>\r\n\t\t\t</view>\r\n\r\n\t\t\t<!-- 评论 -->\r\n\t\t\t<navigator :url=\"'../comment/comment?attractionId=' + attractionId\" class=\"list\">\r\n\t\t\t\t<text class=\"item\">酒店评价</text>\r\n\t\t\t\t<view class=\"item common\" v-for=\"item in commentList\" :key=\"item\">\r\n\t\t\t\t\t<view class=\"context\">\r\n\t\t\t\t\t\t{{ item.commentContent }}\r\n\t\t\t\t\t\t<text class=\"time\">{{ item.createTime }}</text>\r\n\t\t\t\t\t</view>\r\n\t\t\t\t</view>\r\n\t\t\t</navigator>\r\n\r\n\t\t\t<u-popup v-model=\"show\" mode=\"bottom\" border-radius=\"14\" height=\"500px\">\r\n\t\t\t\t<view style=\"font-size: 20px; text-align: center; margin: 20rpx 0 0 0;\">提交订单</view>\r\n\r\n\t\t\t\t<view class=\"lis\">\r\n\t\t\t\t\t<view class=\"name\">{{ name }}</view>\r\n\r\n\t\t\t\t\t<view class=\"useDate\">\r\n\t\t\t\t\t\t<text>{{ useTime }}</text>\r\n\t\t\t\t\t\t<button class=\"date\" size=\"mini\" @click=\"show2 = true\">选择日期</button>\r\n\t\t\t\t\t\t<view>\r\n\t\t\t\t\t\t\t<u-calendar\r\n\t\t\t\t\t\t\t\tv-model=\"show2\"\r\n\t\t\t\t\t\t\t\tref=\"calendar\"\r\n\t\t\t\t\t\t\t\t@change=\"change\"\r\n\t\t\t\t\t\t\t\tmode=\"date\"\r\n\t\t\t\t\t\t\t\t:min-date=\"today\"\r\n\t\t\t\t\t\t\t\t:max-date=\"maxDay\"\r\n\t\t\t\t\t\t\t\trange-color=\"#19be6b\"\r\n\t\t\t\t\t\t\t\trange-bg-color=\"#19be6b\"\r\n\t\t\t\t\t\t\t\tactive-bg-color=\"#19be6b\"\r\n\t\t\t\t\t\t\t\tbtn-type=\"success\"\r\n\t\t\t\t\t\t\t></u-calendar>\r\n\t\t\t\t\t\t</view>\r\n\t\t\t\t\t</view>\r\n\r\n\t\t\t\t\t<view class=\"num\">\r\n\t\t\t\t\t\t<text>选择数量</text>\r\n\t\t\t\t\t\t<u-number-box v-model=\"num\" @change=\"valChange\" :min=\"1\" :input-width=\"150\" :input-height=\"60\" bg-color=\"#fff\"></u-number-box>\r\n\t\t\t\t\t</view>\r\n\t\t\t\t</view>\r\n\r\n\t\t\t\t<view class=\"visitorList\">\r\n\t\t\t\t\t<text style=\"font-size: 18px;\">游客信息</text>\r\n\t\t\t\t\t<text style=\"margin-left: 20rpx;\" v-if=\"num == 1\">\r\n\t\t\t\t\t\t须填\r\n\t\t\t\t\t\t<text style=\"color: red; margin: 0 10rpx;\">1</text>\r\n\t\t\t\t\t\t位，用于入园身份验证\r\n\t\t\t\t\t</text>\r\n\t\t\t\t\t<text style=\"margin-left: 20rpx;\" v-if=\"num != 1\">\r\n\t\t\t\t\t\t只须填\r\n\t\t\t\t\t\t<text style=\"color: red; margin: 0 10rpx;\">1</text>\r\n\t\t\t\t\t\t位，其余游客信息无需填写\r\n\t\t\t\t\t</text>\r\n\t\t\t\t\t<view class=\"visitors\">\r\n\t\t\t\t\t\t<u-radio-group v-model=\"selectedItem\">\r\n\t\t\t\t\t\t\t<u-radio v-for=\"(item, index) in list\" :key=\"index\" :name=\"item.name\" :disabled=\"item.disabled\" @change=\"radioChange(item.name, item.phone)\">\r\n\t\t\t\t\t\t\t\t{{ item.name }}\r\n\t\t\t\t\t\t\t</u-radio>\r\n\t\t\t\t\t\t\t<u-button class=\"more\" shape=\"circle\" size=\"mini\" @click=\"more\">更多</u-button>\r\n\r\n\t\t\t\t\t\t\t<u-select v-model=\"show3\" :list=\"selectedList\" @confirm=\"selectVisitor\"></u-select>\r\n\t\t\t\t\t\t</u-radio-group>\r\n\t\t\t\t\t\t<view class=\"info\" v-if=\"vName.length != 0\">\r\n\t\t\t\t\t\t\t<u-button class=\"clean\" shape=\"circle\" size=\"mini\" style=\"width: 10px;\" @click=\"clearSelection\">✖</u-button>\r\n\t\t\t\t\t\t\t<view class=\"name\">{{ vName }}</view>\r\n\t\t\t\t\t\t\t<view class=\"phone\">手机号 {{ vPhone }}</view>\r\n\t\t\t\t\t\t\t<u-button class=\"edit\" shape=\"circle\" size=\"mini\" @click=\"show4 = true\">编辑</u-button>\r\n\r\n\t\t\t\t\t\t\t<u-popup class=\"edit_popup\" v-model=\"show4\" mode=\"bottom\" border-radius=\"14\" height=\"500px\" closeable=\"true\">\r\n\t\t\t\t\t\t\t\t<view style=\"text-align: center; font-size: 20px; margin: 20rpx 0;\">编辑游客信息</view>\r\n\t\t\t\t\t\t\t\t<view class=\"edit_name\">\r\n\t\t\t\t\t\t\t\t\t<text style=\"font-size: 18px; margin: auto 0;\">姓名：</text>\r\n\t\t\t\t\t\t\t\t\t<uni-easyinput v-model=\"vName\"></uni-easyinput>\r\n\t\t\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t\t\t<view class=\"edit_phone\">\r\n\t\t\t\t\t\t\t\t\t<text style=\"font-size: 18px; margin: auto 0;\">手机：</text>\r\n\t\t\t\t\t\t\t\t\t<uni-easyinput v-model=\"vPhone\"></uni-easyinput>\r\n\t\t\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t\t\t<view class=\"add-btn\" @click=\"show4 = false\">保存</view>\r\n\t\t\t\t\t\t\t\t<view class=\"tip\">\r\n\t\t\t\t\t\t\t\t\t温馨提示：请您填写出行人真实准确的信息，如存在实名制要求的，还需要您在出游时出具相应证件用于身份验证。您填写的所有信息仅供您在美团购买旅游出行服务/产品所用，美团仅会在履约必要的范围内向您购买的服务/产品的相应商家提供，并且将通过加密等方式存储和保护您录入的身份证件信息。\r\n\t\t\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t\t</u-popup>\r\n\t\t\t\t\t\t</view>\r\n\t\t\t\t\t</view>\r\n\t\t\t\t</view>\r\n\r\n\t\t\t\t<button class=\"order\" type=\"default\" @click=\"commit\">提交订单</button>\r\n\t\t\t</u-popup>\r\n\t\t</view>\r\n\t</view>\r\n</template>\r\n\r\n<script>\r\nimport { useri } from '../../util/user.js';\r\nimport { api } from '@/util/comment.js';\r\nimport { mapState } from 'vuex';\r\n\r\nexport default {\r\n\tdata() {\r\n\t\treturn {\r\n\t\t\tattractionId: 0,\r\n\t\t\tcurrentIndex: 0,\r\n\t\t\tattractionInfo: {},\r\n\t\t\tticketList: {},\r\n\t\t\tshow: false, //预定弹窗\r\n\t\t\tshow2: false, //日期弹窗\r\n\t\t\tshow3: false, //更多弹窗\r\n\t\t\tshow4: false, //修改弹窗\r\n\t\t\tname: '', //订单名\r\n\t\t\tprice: 0, //订单价格\r\n\t\t\tticketId: 0, //门票id\r\n\t\t\tnum: 1, //订单数量\r\n\t\t\tuseTime: '选择日期',\r\n\t\t\ttoday: '',\r\n\t\t\tmaxDay: '',\r\n\t\t\tlist: [],\r\n\t\t\tvName: '',\r\n\t\t\tvPhone: '',\r\n\t\t\tselectedItem: '',\r\n\t\t\tselectedList: [],\r\n\t\t\tcommentList: []\r\n\t\t};\r\n\t},\r\n\tonLoad: async function(options) {\r\n\t\tthis.attractionId = options.id;\r\n\t\tawait useri.getAttractionById(options.id).then(resp => {\r\n\t\t\tthis.attractionInfo = resp.data;\r\n\t\t});\r\n\t\tawait useri.getTicketById(options.id).then(resp => {\r\n\t\t\tthis.ticketList = resp.data;\r\n\t\t});\r\n\t\tawait api.getCommentPage(1, 3, { attractionId: options.id }).then(resp => {\r\n\t\t\tthis.commentList = resp.data.records;\r\n\t\t});\r\n\t\tawait useri.getAllVisitorByUserId(this.userInfo.id).then(resp => {\r\n\t\t\tresp.data.forEach(item => {\r\n\t\t\t\tthis.selectedList.push({ label: item.name, value: item.phone });\r\n\t\t\t});\r\n\t\t});\r\n\r\n\t\tconst today = new Date();\r\n\t\tconst year = today.getFullYear();\r\n\t\tconst month = today.getMonth() + 1;\r\n\t\tconst day = today.getDate();\r\n\t\tthis.today = year + '-' + month + '-' + day;\r\n\r\n\t\tconst maxDate = new Date(today);\r\n\t\tmaxDate.setDate(day + 14);\r\n\t\tconst maxYear = maxDate.getFullYear();\r\n\t\tconst maxMonth = maxDate.getMonth() + 1;\r\n\t\tconst maxDay = maxDate.getDate();\r\n\t\tthis.maxDay = maxYear + '-' + maxMonth + '-' + maxDay;\r\n\t},\r\n\tcomputed: {\r\n\t\t...mapState(['userInfo'])\r\n\t},\r\n\tmethods: {\r\n\t\tswiperChange(e) {\r\n\t\t\tthis.currentIndex = e.detail.current;\r\n\t\t},\r\n\t\tasync addOrder(ticket, price) {\r\n\t\t\tawait useri.getVisitorByUserId(1, 3, this.userInfo.id).then(resp => {\r\n\t\t\t\tthis.list = resp.data.records;\r\n\t\t\t});\r\n\t\t\tthis.name = this.attractionInfo.name + '-' + ticket;\r\n\t\t\tthis.price = price;\r\n\t\t\tthis.show = true;\r\n\t\t},\r\n\t\tasync commit() {\r\n\t\t\tthis.show = false;\r\n\t\t\tconst data = {\r\n\t\t\t\tuserId: this.userInfo.id,\r\n\t\t\t\tgoodsType: 1,\r\n\t\t\t\tattractionId: this.attractionId,\r\n\t\t\t\tname: this.name,\r\n\t\t\t\tnum: this.num,\r\n\t\t\t\tprice: this.price,\r\n\t\t\t\tuseTime: this.useTime + ' 00:00:00',\r\n\t\t\t\tstate: 1\r\n\t\t\t};\r\n\t\t\tconsole.log(data);\r\n\t\t\tawait useri.addOrder(data).then(resp => {\r\n\t\t\t\tif (resp.code == 200) {\r\n\t\t\t\t\tthis.$refs.uTips.show({\r\n\t\t\t\t\t\ttitle: '预定成功，请及时付款！',\r\n\t\t\t\t\t\ttype: 'success',\r\n\t\t\t\t\t\tduration: '2000'\r\n\t\t\t\t\t});\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t\t},\r\n\t\tchange(e) {\r\n\t\t\tthis.useTime = e.result;\r\n\t\t},\r\n\t\tvalChange(e) {\r\n\t\t\tthis.num = e.value;\r\n\t\t},\r\n\t\tradioChange(name, phone) {\r\n\t\t\tthis.vName = name;\r\n\t\t\tthis.vPhone = phone;\r\n\t\t},\r\n\t\tclearSelection() {\r\n\t\t\tthis.selectedItem = '';\r\n\t\t\tthis.vName = '';\r\n\t\t\tthis.vPhone = '';\r\n\t\t},\r\n\t\tasync more() {\r\n\t\t\tthis.show3 = true;\r\n\t\t},\r\n\t\tselectVisitor(e) {\r\n\t\t\te.map((val, index) => {\r\n\t\t\t\tthis.selectedItem = val.label;\r\n\t\t\t\tthis.vName = val.label;\r\n\t\t\t\tthis.vPhone = val.value;\r\n\t\t\t});\r\n\t\t}\r\n\t}\r\n};\r\n</script>\r\n\r\n<style lang=\"scss\">\r\n.goods {\r\n\twidth: 100%;\r\n\theight: 100%;\r\n\tpadding-bottom: constant(safe-area-inset-bottom); // 兼容 IOS<11.2\r\n\tpadding-bottom: env(safe-area-inset-bottom); // 兼容 IOS>11.2\r\n\tbackground-color: #fff;\r\n\t.preview {\r\n\t\theight: 750rpx;\r\n\t\tposition: relative;\r\n\t\timage {\r\n\t\t\tposition: absolute;\r\n\t\t\ttop: 0;\r\n\t\t\tleft: 0;\r\n\t\t\tright: 0;\r\n\t\t\tbottom: 0;\r\n\t\t\twidth: 100%;\r\n\t\t\theight: 100%;\r\n\t\t\tobject-fit: cover;\r\n\t\t}\r\n\t\t.indicator {\r\n\t\t\theight: 40rpx;\r\n\t\t\tpadding: 0 24rpx;\r\n\t\t\tline-height: 40rpx;\r\n\t\t\tborder-radius: 30rpx;\r\n\t\t\tcolor: #fff;\r\n\t\t\tfont-family: Arial, Helvetica, sans-serif;\r\n\t\t\tbackground-color: rgba(0, 0, 0, 0.3);\r\n\t\t\tposition: absolute;\r\n\t\t\tbottom: 30rpx;\r\n\t\t\tright: 30rpx;\r\n\t\t\t.current {\r\n\t\t\t\tfont-size: 26rpx;\r\n\t\t\t}\r\n\t\t\t.split {\r\n\t\t\t\tfont-size: 24rpx;\r\n\t\t\t\tmargin: 0 1rpx 0 2rpx;\r\n\t\t\t}\r\n\t\t\t.total {\r\n\t\t\t\tfont-size: 24rpx;\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\t.meta {\r\n\t\tposition: relative;\r\n\t\tborder-bottom: 1rpx solid #eaeaea;\r\n\t\t.price {\r\n\t\t\theight: auto;\r\n\t\t\tcolor: #fff;\r\n\t\t\tfont-size: 34rpx;\r\n\t\t\tpadding: 10rpx 20rpx;\r\n\t\t\tbox-sizing: border-box;\r\n\t\t\tbackground-color: #35c8a9;\r\n\t\t\tdisplay: flex;\r\n\t\t\tflex-direction: column;\r\n\t\t\tjustify-content: center;\r\n\t\t\ttext {\r\n\t\t\t\tmargin: 10rpx 10rpx;\r\n\t\t\t}\r\n\t\t}\r\n\t\t.brand {\r\n\t\t\twidth: 160rpx;\r\n\t\t\theight: 80rpx;\r\n\t\t\toverflow: hidden;\r\n\t\t\tposition: absolute;\r\n\t\t\ttop: 26rpx;\r\n\t\t\tright: 30rpx;\r\n\t\t}\r\n\t}\r\n\t.action {\r\n\t\tpadding-left: 20rpx;\r\n\t\t.item {\r\n\t\t\theight: 90rpx;\r\n\t\t\tpadding-right: 60rpx;\r\n\t\t\tborder-bottom: 1rpx solid #eaeaea;\r\n\t\t\tfont-size: 26rpx;\r\n\t\t\tcolor: #333;\r\n\t\t\tposition: relative;\r\n\t\t\tdisplay: flex;\r\n\t\t\talign-items: center;\r\n\t\t\t&:last-child {\r\n\t\t\t\tborder-bottom: 0 none;\r\n\t\t\t}\r\n\t\t}\r\n\t\t.label {\r\n\t\t\twidth: auto;\r\n\t\t\tcolor: #898b94;\r\n\t\t\tmargin: 0 16rpx 0 10rpx;\r\n\t\t}\r\n\t\t.text {\r\n\t\t\tflex: 1;\r\n\t\t\t-webkit-line-clamp: 1;\r\n\t\t}\r\n\t}\r\n\t/* 列表 */\r\n\t.list {\r\n\t\tmargin: 0 10px;\r\n\t\tpadding: 0 20rpx;\r\n\t\tbackground-color: #f4f4f4;\r\n\t\tmargin-bottom: 20rpx;\r\n\t\tborder-radius: 10rpx;\r\n\t\t.item {\r\n\t\t\tline-height: 90rpx;\r\n\t\t\tpadding-left: 10rpx;\r\n\t\t\tfont-size: 17px;\r\n\t\t\tcolor: #333;\r\n\t\t\tborder-top: 1rpx solid #ddd;\r\n\t\t\tposition: relative;\r\n\t\t\ttext-align: left;\r\n\t\t\tborder-radius: 0;\r\n\t\t\tbackground-color: #f4f4f4;\r\n\t\t\t&::after {\r\n\t\t\t\twidth: auto;\r\n\t\t\t\theight: auto;\r\n\t\t\t\tleft: auto;\r\n\t\t\t\tborder: none;\r\n\t\t\t}\r\n\t\t\t&:first-child {\r\n\t\t\t\tborder: none;\r\n\t\t\t}\r\n\t\t\t&::after {\r\n\t\t\t\tcontent: '';\r\n\t\t\t\tright: 5rpx;\r\n\t\t\t}\r\n\t\t\t.num {\r\n\t\t\t\tmargin-left: 20rpx;\r\n\t\t\t\tfont-size: 10px;\r\n\t\t\t}\r\n\t\t\t.price {\r\n\t\t\t\tposition: absolute;\r\n\t\t\t\tright: 70px;\r\n\t\t\t\tcolor: red;\r\n\r\n\t\t\t\t&::before {\r\n\t\t\t\t\tcontent: '￥';\r\n\t\t\t\t\tfont-size: 80%;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\tbutton {\r\n\t\t\t\twidth: 60px;\r\n\t\t\t\tfont-size: 10px;\r\n\t\t\t\tposition: absolute;\r\n\t\t\t\tright: 0;\r\n\t\t\t\ttop: 25%;\r\n\t\t\t\tbackground-color: #ff7d25;\r\n\t\t\t\tcolor: white;\r\n\t\t\t}\r\n\t\t}\r\n\t\t.common {\r\n\t\t\tfont-size: 13px;\r\n\t\t\t.context {\r\n\t\t\t\twidth: 195px;\r\n\t\t\t\toverflow: hidden;\r\n\t\t\t\ttext-overflow: ellipsis;\r\n\t\t\t\twhite-space: nowrap;\r\n\t\t\t\t.time {\r\n\t\t\t\t\tposition: absolute;\r\n\t\t\t\t\tright: 0;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\r\n\t/deep/.u-mode-center-box {\r\n\t\tbackground-color: #28bb9c;\r\n\t}\r\n\r\n\t.lis {\r\n\t\tmargin: 0 10px;\r\n\t\tpadding: 4rpx 40rpx;\r\n\t\tbackground-color: #efefef;\r\n\t\tmargin-top: 30rpx;\r\n\t\tborder-radius: 10rpx;\r\n\r\n\t\t.name {\r\n\t\t\tfont-size: 18px;\r\n\t\t\tmargin: 40rpx 0;\r\n\t\t}\r\n\r\n\t\t.useDate {\r\n\t\t\tposition: relative;\r\n\t\t\tdisplay: flex;\r\n\t\t\tfont-size: 15px;\r\n\t\t\ttext {\r\n\t\t\t\twidth: auto;\r\n\t\t\t\tmargin: auto 0;\r\n\t\t\t}\r\n\t\t\t.date {\r\n\t\t\t\tposition: absolute;\r\n\t\t\t\twidth: auto;\r\n\t\t\t\tcolor: white;\r\n\t\t\t\tbackground-color: #28bb9c;\r\n\t\t\t\tright: 80rpx;\r\n\t\t\t\ttop: -8rpx;\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\t.num {\r\n\t\t\tfont-size: 15px;\r\n\t\t\tmargin: 40rpx 0;\r\n\t\t\ttext {\r\n\t\t\t\tmargin: auto 0;\r\n\t\t\t}\r\n\t\t\tu-number-box {\r\n\t\t\t\tmargin-left: 200rpx;\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\r\n\t.visitorList {\r\n\t\tposition: relative;\r\n\t\tmargin: 0 10px;\r\n\t\tpadding: 20rpx 40rpx 5rpx 40rpx;\r\n\t\tbackground-color: #efefef;\r\n\t\tmargin-top: 20rpx;\r\n\t\tborder-radius: 10rpx;\r\n\r\n\t\t.visitors {\r\n\t\t\tposition: relative;\r\n\t\t\tmargin: 20rpx 0;\r\n\t\t\t.more {\r\n\t\t\t\tposition: absolute;\r\n\t\t\t\tright: 30rpx;\r\n\t\t\t}\r\n\t\t\t.info {\r\n\t\t\t\tposition: relative;\r\n\t\t\t\tmargin: 20rpx 0;\r\n\t\t\t\twidth: 600rpx;\r\n\t\t\t\theight: 100rpx;\r\n\t\t\t\tborder-top: 1px solid #bfbfbf;\r\n\t\t\t\t.clean {\r\n\t\t\t\t\tposition: absolute;\r\n\t\t\t\t\tleft: 0;\r\n\t\t\t\t\ttop: 30%;\r\n\t\t\t\t}\r\n\t\t\t\t.name {\r\n\t\t\t\t\tposition: absolute;\r\n\t\t\t\t\ttop: 10rpx;\r\n\t\t\t\t\tleft: 100rpx;\r\n\t\t\t\t}\r\n\t\t\t\t.phone {\r\n\t\t\t\t\tposition: absolute;\r\n\t\t\t\t\tbottom: 0;\r\n\t\t\t\t\tleft: 100rpx;\r\n\t\t\t\t}\r\n\t\t\t\t.edit {\r\n\t\t\t\t\tposition: absolute;\r\n\t\t\t\t\tright: 0;\r\n\t\t\t\t\ttop: 30%;\r\n\t\t\t\t}\r\n\t\t\t\t.edit_popup {\r\n\t\t\t\t\t.edit_name {\r\n\t\t\t\t\t\tdisplay: flex;\r\n\t\t\t\t\t\tmargin: 20rpx 20rpx;\r\n\t\t\t\t\t}\r\n\t\t\t\t\t.edit_phone {\r\n\t\t\t\t\t\tdisplay: flex;\r\n\t\t\t\t\t\tmargin: 0 20rpx;\r\n\t\t\t\t\t}\r\n\t\t\t\t\t.add-btn {\r\n\t\t\t\t\t\theight: 80rpx;\r\n\t\t\t\t\t\ttext-align: center;\r\n\t\t\t\t\t\tline-height: 80rpx;\r\n\t\t\t\t\t\tmargin: 30rpx 20rpx;\r\n\t\t\t\t\t\tcolor: #fff;\r\n\t\t\t\t\t\tborder-radius: 80rpx;\r\n\t\t\t\t\t\tfont-size: 30rpx;\r\n\t\t\t\t\t\tbackground-color: #27ba9b;\r\n\t\t\t\t\t}\r\n\t\t\t\t\t.tip {\r\n\t\t\t\t\t\twidth: 90%;\r\n\t\t\t\t\t\theight: 10%;\r\n\t\t\t\t\t\tmargin: 20rpx auto;\r\n\t\t\t\t\t\tcolor: #afafaf;\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\r\n\t.order {\r\n\t\tbackground-color: #28bb9c;\r\n\t\tcolor: white;\r\n\t\tmargin: 20rpx 24rpx 0 24rpx;\r\n\t}\r\n}\r\n</style>\n","import mod from \"-!../../../../plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../../plugins/uniapp-cli/node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../../plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/stylePostLoader.js!../../../../plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--8-oneOf-1-2!../../../../plugins/uniapp-cli/node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-3!../../../../plugins/uniapp-cli/node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-4!../../../../plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--8-oneOf-1-5!../../../../plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./detail.vue?vue&type=style&index=0&lang=scss&\"; export default mod; export * from \"-!../../../../plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../../plugins/uniapp-cli/node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../../plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/stylePostLoader.js!../../../../plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--8-oneOf-1-2!../../../../plugins/uniapp-cli/node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-3!../../../../plugins/uniapp-cli/node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-4!../../../../plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--8-oneOf-1-5!../../../../plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./detail.vue?vue&type=style&index=0&lang=scss&\"","// extracted by mini-css-extract-plugin\n    if(module.hot) {\n      // 1700565247388\n      var cssReload = require(\"D:/JavaWeb/HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/hmr/hotModuleReplacement.js\")(module.id, {\"hmr\":true,\"publicPath\":\"../../\",\"locals\":false});\n      module.hot.dispose(cssReload);\n      module.hot.accept(undefined, cssReload);\n    }\n  "],"sourceRoot":""}